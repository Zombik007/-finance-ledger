{"version":3,"sources":["index.js"],"names":["window","onscroll","changeHeaderBackground","header","document","querySelector","form","inputFieldEmail","inputWarning","links","querySelectorAll","headerHeight","offsetHeight","pageYOffset","classList","add","remove","hadlerSubmit","e","value","length","preventDefault","validate","sendForm","style","opacity","setTimeout","myForm","getElementById","formData","FormData","fetch","method","headers","body","URLSearchParams","toString","then","console","log","catch","error","alert","addEventListener","forEach","link","windowInnerWidth","documentElement","clientWidth","href","getAttribute","substring","scrollTarget","topOffset","elementPosition","offsetPosition","getBoundingClientRect","top","scrollBy","behavior"],"mappings":";;;AAqDA,aArDA,QAAA,oBAEAA,OAAOC,SAAW,WAChBC,KAGF,MAAMC,EAASC,SAASC,cAAc,WAChCC,EAAOF,SAASC,cAAc,uBAC9BE,EAAkBH,SAASC,cAAc,4BACzCG,EAAeJ,SAASC,cAAc,2BACtCI,EAAQL,SAASM,iBAAiB,eAExC,IAAIC,EAAeR,EAAOS,aAE1B,SAASV,IACHF,OAAOa,aAAeF,EACxBR,EAAOW,UAAUC,IAAI,sBAErBZ,EAAOW,UAAUE,OAAO,sBAM5B,SAASC,EAAaC,GAChBX,GAAiC,IAAjCA,EAAgBY,MAAMC,OAGxB,OAFAF,EAAEG,sBACFC,IAGFC,IAGF,SAASD,IACPd,EAAagB,MAAMC,QAAU,EAE7BC,WAAW,KACTlB,EAAagB,MAAMC,QAAU,GAC5B,KAGL,SAASF,EAASL,GACZS,IAAAA,EAASvB,SAASwB,eAAe,YACjCC,EAAW,IAAIC,SAASH,GAC5BI,MAAM,IAAK,CACTC,OAAQ,OACRC,QAAS,CAAkB,eAAA,qCAC3BC,KAAM,IAAIC,gBAAgBN,GAAUO,aAEnCC,KAAK,IAAMC,QAAQC,IAAI,gCACvBC,MAAMC,GAASC,MAAMD,IA5B1BnC,EAAKqC,iBAAiB,SAAU1B,GA+BhCR,EAAMmC,QAAQC,IACZA,EAAKF,iBAAiB,QAAS,SAAUzB,GACvCA,EAAEG,iBACElB,IAAAA,EAASC,SAASC,cAAc,WAChCM,EAAeR,EAAOS,aACtBkC,EAAmB1C,SAAS2C,gBAAgBC,YAC5CC,EAAO,KAAKC,aAAa,QAAQC,UAAU,GAEzCC,MAAAA,EAAehD,SAASwB,eAAeqB,GACzCI,IAAAA,EAAYlD,EAAOS,aAEnBZ,OAAOa,aAAeF,IAEtB0C,EADEP,GAAoB,IACV,IAEA,IAIVQ,MACAC,EADkBH,EAAaI,wBAAwBC,IACpBJ,EAEzCrD,OAAO0D,SAAS,CACdD,IAAKF,EACLI,SAAU","file":"src.54bd211b.js","sourceRoot":"../src","sourcesContent":["import './sass/main.scss';\n\nwindow.onscroll = function () {\n  changeHeaderBackground();\n};\n\nconst header = document.querySelector('.header');\nconst form = document.querySelector('.formWithValidation');\nconst inputFieldEmail = document.querySelector('.js-contact__input-field');\nconst inputWarning = document.querySelector('.contact__input-warning');\nconst links = document.querySelectorAll('a[href^=\"#\"');\n\nlet headerHeight = header.offsetHeight;\n\nfunction changeHeaderBackground() {\n  if (window.pageYOffset >= headerHeight) {\n    header.classList.add('header__box--fixed');\n  } else {\n    header.classList.remove('header__box--fixed');\n  }\n}\n\nform.addEventListener('submit', hadlerSubmit);\n\nfunction hadlerSubmit(e) {\n  if (inputFieldEmail.value.length === 0) {\n    e.preventDefault();\n    validate();\n    return;\n  }\n  sendForm();\n}\n\nfunction validate() {\n  inputWarning.style.opacity = 1;\n\n  setTimeout(() => {\n    inputWarning.style.opacity = 0;\n  }, 5000);\n}\n\nfunction sendForm(e) {\n  let myForm = document.getElementById('formSend');\n  let formData = new FormData(myForm);\n  fetch('/', {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/x-www-form-urlencoded' },\n    body: new URLSearchParams(formData).toString(),\n  })\n    .then(() => console.log('Form successfully submitted'))\n    .catch(error => alert(error));\n}\n\nlinks.forEach(link => {\n  link.addEventListener('click', function (e) {\n    e.preventDefault();\n    let header = document.querySelector('.header');\n    let headerHeight = header.offsetHeight;\n    let windowInnerWidth = document.documentElement.clientWidth;\n    let href = this.getAttribute('href').substring(1);\n\n    const scrollTarget = document.getElementById(href);\n    let topOffset = header.offsetHeight;\n\n    if (window.pageYOffset >= headerHeight) {\n      if (windowInnerWidth <= 767) {\n        topOffset = 120;\n      } else {\n        topOffset = 70;\n      }\n    }\n\n    const elementPosition = scrollTarget.getBoundingClientRect().top;\n    const offsetPosition = elementPosition - topOffset;\n\n    window.scrollBy({\n      top: offsetPosition,\n      behavior: 'smooth',\n    });\n  });\n});\n"]}